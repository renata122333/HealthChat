<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Page</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
</head>

<body>
  <div class="header">
    <a href="{{ url_for('home') }}">
      <i class="fas fa-arrow-left back-button"></i>
    </a>
    Profile Page
  </div>

  <div class="container">
    <div class="profile-form">
      <h2>Edit Profile</h2>

      <form method="POST" action="{{ url_for('update_profile') }}" enctype="multipart/form-data">
        {{ csrf_token() }}

        <div class="upload-picture-button">
          <input type="file" id="profile-picture" name="profile_picture" accept="image/*">
          <label for="profile-picture">
            <i class="fas fa-upload"></i>
            Upload Image
          </label>
        </div>

        <input placeholder="Name" type="text" name="name" value="{{ user.get('name', '') }}" required/>
        <input placeholder="Surname" type="text" name="surname" value="{{ user.get('surname', '') }}" required/>
        <input placeholder="Date of Birth: DD/MM/YYYY" type="text" id="dob" name="dob"
               pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" value="{{ user.get('dob', '') }}" required/>
        <input placeholder="Email Address" type="email" name="email" value="{{ user.get('email', '') }}" required/>
        <textarea placeholder="Description" name="description">{{ user.get('description', '') }}</textarea>
        <button type="submit">Save</button>
      </form>
    </div>

    <div class="profile-card">
      <img alt="Profile picture placeholder" src="{{ user.get('profile_picture_url', 'https://placehold.co/100x100') }}"/>
      <h3>{{ user.get('name', 'Your Name') }}</h3>
      <p>{{ user.get('description', 'Your description here...') }}</p>
    </div>
  </div>
</body>
</html>